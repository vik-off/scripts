<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
     "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
	<title> test </title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
	<script type="text/javascript" src="debug.js?12345678"></script>
	<script type="text/javascript">
		
		function bodyLoad(){
			document.getElementById('var-dump-params').value = location.hash.substr(1);
			// VikDebug.init();
		}
		
		function test(){
		
			var params = document.getElementById('var-dump-params').value;
			location.hash = params;
			
			var obj = {
				a: 'a1',
				b: [1,2,3],
				c: false,
				d: {first: null, second: 'hello'},
				d1: function(){
					alert('hello');
					document.location.hash = 'hello world';
				},
				d2: {},
				e: {doc: document, w: window, j: $('<div>'), j2: $('div'), j3: $('.classname')},
				f: {t: document.createElement('span')},
				t: new Date().getTime()
			};
			
			//obj = {b: {c: 1, d: 2}};
			// obj = 'hello';
			
			var_dump(obj, params);
		}
		
		function test_debug_backtrace(){
			
			var a = function(){
				debug_print_backtrace();
			};
			var b = function(){a();};
			var c = function(){b();};
			
			c();
		}
		
	</script>
	
</head>
<body onload="bodyLoad();">

	<div style="position: fixed;">
		<p>
			<table style="width: 600px; font-size: 13px;">
			<col width="90" />
			<tr><td colspan="2" style="font-weight: bold; text-align: center; font-size: 16px;">var_dump help</td></tr>
			<tr><td>d=int</td><td>глубина раскрытия</td></tr>
			<tr><td>a|A</td><td>добавлять или замещать вывод</td></tr>
			<tr><td>s|S</td><td>Раскрывать вложенные объекты пошагово (пока не реализовано)</td></tr>
			<tr><td>t|T</td><td>отображать типы, или нет</td></tr>
			<tr><td>h|H</td><td>подсвечивать ли элементы при наведении</td></tr>
			<tr><td>e=a,b,c</td><td>параметры через запятую, которые будут раскрываться (dom, window, document, tags, jquery)</td></tr>
			<tr><td>o=[t|c|r|rd]</td><td>тип вывода (по первым буквам: trace, console, return, returnDOM)</td></tr>
			</table>
		</p>
		
		<form onsubmit="trace(this.str.value); return false;" style="margin: 1em;">
			<input type="text" name="str" value="" />
			<input type="submit" value="trace()" />
		</form>
		
		<p>
			<button onclick="test_debug_backtrace();">debug backtrace test</button>
		</p>
		
		<form onsubmit="test(); return false;" style="margin: 1em;">
			params: <input id="var-dump-params" type="text" value="" />
			<input type="submit" value="var_dump()" />
		</form>
	</div>

</body>
</html>